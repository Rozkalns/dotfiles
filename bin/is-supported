#!/usr/bin/env bash

# Check if a command with arguments is supported
# Usage: is-supported <command> [args...]
# Returns: 0 if supported, 1 if not
# If more than 2 args, returns arg 2 or arg 3 based on support

if [ $# -eq 1 ]; then
  if eval "$1" > /dev/null 2>&1; then
    exit 0
  else
    exit 1
  fi
else
  if eval "$1" > /dev/null 2>&1; then
    echo -n "$2"
  else
    echo -n "$3"
  fi
fi
